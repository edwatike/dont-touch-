# Многопоточный парсер

Продвинутый парсер с поддержкой многопоточности, обходом блокировок и сохранением результатов.

## Основные возможности

### Управление конфигурацией:
- Использование переменных окружения для всех настраиваемых параметров
- Поддержка настройки прокси, задержек, таймаутов и количества потоков

### Надежная обработка ошибок:
- Комплексные блоки try-except
- Детальное логирование ошибок
- Отслеживание ошибок в базе данных

### Хранение данных:
- База данных SQLite с использованием SQLAlchemy ORM
- Резервные копии в JSON для каждого обработанного сайта
- Структурированная модель данных

### Производительность:
- Асинхронная обработка с использованием Playwright
- Параллельная обработка с настраиваемым количеством потоков
- Случайные задержки между запросами
- Поддержка прокси
- Ротация User-Agent

### Отчетность:
- Подробные отчеты о выполнении
- Статистика успешных/неудачных запросов
- Отслеживание последних ошибок
- Отчеты с метками времени

### Логирование:
- Логирование в файл и консоль
- Настраиваемые уровни логирования
- Структурированный формат логов

## Использование

1. Настройте переменные окружения в файле `.env` (на основе `.env.example`)
2. Установите зависимости из `requirements.txt`
3. Запустите скрипт с нужными URL

## Установка

```bash
# Клонирование репозитория
git clone https://github.com/edwatike/dont-touch-.git
cd dont-touch-

# Создание виртуального окружения
python -m venv venv
source venv/bin/activate  # для Linux/Mac
# или
venv\Scripts\activate  # для Windows

# Установка зависимостей
pip install -r requirements.txt

# Установка браузеров для Playwright
playwright install
```

## Структура проекта

```
dont-touch-/
├── src/
│   ├── parser.py         # Основной класс парсера
│   └── models.py         # Модели данных
├── results/              # Директория для результатов
├── logs/                 # Директория для логов
├── reports/              # Директория для отчетов
├── requirements.txt      # Зависимости
├── .env.example         # Пример конфигурации
└── README.md            # Документация
```

## Ограничения безопасности

- Максимальное количество браузеров: 10
- Максимальное количество страниц на браузер: 20
- Максимальное общее количество страниц: 100
- Ограничение запросов: 30 в минуту, 300 в час

## Лицензия

MIT 